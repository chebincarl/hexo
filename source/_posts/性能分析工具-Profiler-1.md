---
layout: title
title: 性能分析工具-Profiler-1
date: 2019-04-10 09:22:12
categories: Unity
tags: Unity5.X游戏开发指南
---
Profiler是Unity中一个辅助优化游戏性能的工具，它在游戏运行时实时详细报告游戏各个部分每帧所耗费的时间。例如，图像渲染部分、动画系统或者脚本各耗费多少时间。

<!--more-->

在运行场景或者使用设备运行游戏的时候打开Profiler，它会记录并以时间轴为基础显示数据，让你可以知道哪些帧或者功能部分消耗较多的时间。

Profiler会检测代码，这会对性能造成定影响。一般来说，重点关注时间消耗最多的那些帧里消耗最多的部分。

# Profiler界面

点击导航菜单栏->Window->Profiler打开Profiler界面，再打开并运行场景，Profiler窗口如下图所示。本章将图中黑色部分（即以时间为横轴的性能数据）统称为波形图。

功能被分为如下5个部分检测：中央处理器使用率（CPU Usage）、渲染（Rendering）、内存（Memory ）、音频（Audio）、物理（Physics），具体功能分析如下表所示。

* 中央处理器使用率部分主要分析游戏运行时每帧游戏各个部分所消耗的CPU时间。波形图分为7个子项并以不同颜色显示
* 渲染部分的波形图不再是表示每帧消耗的时间,而是表示渲染的性能指标。波形图分为4个子项并以不同颜色显示。
* 内存部分主要分析游戏运行时每帧游戏各部分所占用的内存大小。波形图分为7个子项并以不同颜色显示。
* 音频部分主要分析游戏运行时每帧的音频性能指标。波形图分为4个子项并以不同颜色显示。
* 物理部分主要分析游戏运行时每帧的物理性能指标。波形图分为两个子项并以不同颜色显示,


所有栏中的波形图都是在最右侧绘制最新的时间占用并向左移动。当前选中的CPU Usage栏,我们可以在这里看到有16ms ( 60FPS ), 10ms ( 100FPS ), Sms ( 200FPS ) 3条横向基准线它们代表的意思是当波形刚好位于基准线上的数值。5ms代表的是这一帧的CPUi计算占用了5ms的时间, 1s等于1000ms, 1000除以5等于200,也就是括号内的200FPS即顿的刷新率是200帧秒。Overview中显示的是脚本各占用了多少时间。

请将鼠标光标移动到CPU波形图的任意一点并单击鼠标左键,此时出现一条竖线,旁边伴以数据显示该帧的性能情况,参见图14-2.