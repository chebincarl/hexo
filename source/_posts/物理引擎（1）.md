---
layout: title
title: 物理引擎（1）
date: 2019-04-12 15:54:24
categories: Unity
tags: Unity5.X 完全自学手册
---
Unity软件中强大的物理引擎通过为刚性物体赋予真实物理属性的方法来计算刚性物体的运动、旋转、碰撞、跌落等反应。在游戏制作过程中，并不需要为每一个游戏对象都添加物理引擎，例如可以通过脚本编写的方式为游戏对象赋予加速或减速的属性。当然，当在处理较为复杂的游戏对象的物体碰撞、物体滚动以及物体弹跳的时候，不建议通过编程的方式进行实现。

<!--more-->

# 刚体

Unity软件中的Rigidbody刚体组件可为游戏对象赋予物理属性，使游戏对象在物理系统的控制下接受推力与扭力，从而像在现实世界中进行运动。在游戏制作过程中，只有为游戏对象添加了刚体组件，其才能受到重力的影响。通过脚本为游戏对象添加作用力以及通过NVIDIA物理引擎与其他的游戏对象发生互动的运算也是较为可行和有效的为游戏对象添加物理属性的方式，但其也需要为游戏对象添加刚体组件。

## 刚体的基本使用方法

Unity 中的Rigidbody刚体组件为游戏开发者提供如在现实世界中物体受到力的作用的逼真效果。当一个游戏对象被赋予刚体组件后，游戏引擎会对其进行物理效果模拟。

** Rigidbody刚体组件使用注意事项 **

(1)Parenting：父子级关系

当为一个游戏对象赋予物理属性，受物理系统控制时，其刚体的运动会随着游戏对象所属的父对象的运动而运动。值得注意的是，虽然游戏对象刚体的运动是跟随父级对象的运动，但其依然会受重力作用的影响而下落。

(2)Animation：动画

当将刚体标记为动力学模式的时候，具有刚体组件的游戏对象就不会受到物理效果的影响，此时便需要对此游戏对象的Transform组件属性进行直接操作。<span style="color:red;">可见，动力学刚体会影响其他的游戏对象，但其自身并不受到物理系统的影响。</span>

(3)Script：脚本

若利用脚本的方式来为游戏对象添加作用力或扭矩力，则需要在游戏对象的刚体上添加AddForce()和AddToraue()函数。

## 刚体选项设置

| 英文  | 中文  | 含义  |
| :------------ | :------------ | :------------ |
| Mass  | 质量  | 设置游戏对象的质量大小  |
| Drag  | 阻力  | 设置游戏对象在运动时受到空气阻力的大小。数值0表示无空气阻力，阻力越大游戏对象运动越慢，阻力极大时游戏对象则会停止运动  |
| Angular Drag  | 角阻力  | 设置游戏对象受到扭矩力时受到的空气阻力的大小。数值0表示无空气阻力，阻力越大游戏对象运动越慢。阻力极大时游戏对象则会停止运动  |
| Use Giavity  | 使用重力  | 此项开启则表示游戏对象会受到重力的影响  |
| Is Kinematic  | 是否开启动力学  | 开启动力学后，游戏对象将只能通过Transform属性对其进行控制，且不再受物理系统的影响  |
| Interpolate  | 插值  | 此选项用于控制刚体运动的抖动情况，共包括三个子选项：<br>
1.None：无差值；<br>
2.Interpolate：内插值，表示将基于上一帧的Transform来平滑此次的Transform；<br>3.Extrapolate：外插值，表示将基于下一帧的Transform来平滑此次的Transform； |
| Collision Delection  | 碰撞检测  | 用于避免较高运动速度的游戏对象无法与其他游戏对象发生碰撞，共包括三个子选项：<br>
1.Discrete：离散碰撞检测。此选项为被选中的游戏对象与场景中其他所有的碰撞体进行碰撞检测；<br>
2.Continuous：连续碰撞检测。该选项用于检测被选中游戏对象与动态碰撞体的碰撞，使用连续碰撞检测模式来检测与网络碰撞体的碰撑；<br>
3.Continuots Dynamic：连续动态碰撞检测。此选项用于检测连续碰撞模式或是连续动态碰撞模式对象的检测  |
| Constraints  | 约束  | 此选项用于约束刚体的运动，共包括两个子选项：<br>
1.Freeze Position：冻结位置；<br>
2.Freeze Rotation：冻结旋转  |

# 碰撞体

在游戏制作的过程中，游戏对象要根据游戏的需要进行物理属性的交互。为此，Unity的物理组件为游戏开发者提供了碰撞体组件。碰撞体是物理组件的一类，它与刚体一起，促使碰撞的发生。

## 使用碰撞体

在Unity的物理组件的使用过程中，碰撞体需要与刚体一起添加到游戏对象上才能触发碰撞。因此，在游戏制作的过程中，没有添加刚体组件的碰撞体也会相互穿过。

为游戏对象添加碰撞体后，其使用需要注意以下两点:

(1)碰撞体与刚体

游戏对象物理效果的产生，是碰撞体与刚体共同作用的结果。值得注意的是，刚体一定要绑定在一个被碰撞到的对象上才能够产生碰撞效果，而碰撞体则不需要一定绑定刚体。

(2)物理材质

Unity中内置了多种物理材质供游戏开发者进行选择，如下图所示，物理材质的参数设置如下表所示。

| 英文  | 中文  | 详解  |
| :------------ | :------------ | :------------ |
| Slope Limit  | 城度限剂  | t法项用于被控制的角色对象只能底上小于或等于该法项参数所设置的值  |
| Sien Offe  | f险高度  | 法项用干设置席控制的t色对象可以i上的最高f阶的高度值  |
| Skin Widt  | 皮肤厚度  | 此a项目于决定两个碳操体磁牌后所相互渗入的程度值,较小的游戏对象将会被住.而较大的游戏对象则会产生不同程度的抖动现象  |
| Min Move Dissanse  | 最小移动距离  | 1北选项用于设置角色对象所移动的最小值,若角色对象移动的距离小于北数值,则游戏对象持不会移动  |
| Cemte  | 中心  | 此选项用于设置胶囊碰撞体在世界4标中的位置  |
| Radius  | 半书  | 此选项用于设置胶囊碰撞体的长度t径  |
| Height  | 高度  | 此法项用于设置胶囊碰撞体的高度  |