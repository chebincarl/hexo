---
layout: title
title: 3D数学之向量1
date: 2019-06-14 17:41:12
categories: Unity
tags: 大话Unity2018
---
思考并回答以下问题：
1.在Unity中看下Vector类的API，看看和这些向量的运算怎么对应上

<!--more-->

坐标系之间的转换涉及到两个方面：平移和旋转。今天我们先来学习一下和平移相关的向量。

向量Vector
对Vector这个词你应该不陌生，Unity中经常用得到position就是Vector3类型。那究竟什么是向量呢？

向量的数学定义
向量与标量
向量是一个既有大小又有方向的量，比如速度、位移等。
标量是一个只有大小，没有方向的量，比如速率、长度等。

向量的维度
向量的维度就是向量包含的“数”的数目。向量可以有任意正数维，也包括一维（标量可以认为是一维向量）。

向量的几何定义
从几何意义上说，向量是有大小和方向的有向线段。

向量的大小就是向量的长度（模）。向量有非负的长度。

向量的方向描述了空间中向量的指向。

向量的形式
2D向量

2D向量

这个2D向量看起来就像一支箭，对吗？这是用图形描述向量的标准形式，因为向量定义的两个要素——大小和方向都被包含在其中。有时候需要引用向量的头和尾，如上图所示，箭头A是向量的末端（向量“结束”于此），箭尾O是向量的“开始”。

位置与位移
向量在哪儿？实际上，这不是一个恰当的问题。因为向量没有位置，只有大小和方向。这听起来不可思议，但其实日常生活中很多量有大小和方向，却没有位置。例如：

位移：“向前走三步”，这句话好像是关于位置的，但其实句子中使用的量表示的是相对位移，而不是绝对位置。这个相对位移由大小（三步）和方向（向前）构成，所以它能用向量表示。

速度：“我们以50英里每小时的速度向北行驶”。这句话描述了一个量，它有大小（50英里每小时）和方向（北），但没有具体位置。“50英里每小时的速度向北”能用向量表示。

注意，位移、速度与距离、速率是完全不同的两种定义。位移和速度是向量，包含方向，而距离和速率是标量，不指明任何方向。

因为向量能描述事物间的位移和相对差异，所以它能用来描述相对位置：“我的房子位于从这儿向东的第四个胡同”。不能认为向量有绝对位置，当你想像一个向量，一个箭头时，记住：只有箭头的长度和方向是有意义的，不包括位置。

因为向量是没有位置的，所以能在图的任何地方表示，只要方向和长度的表示正确即可。我们经常会利用向量的这个优点，将向量平移到图中更有用的点。

向量与点的区别
“点”有位置，但没有实际的大小或厚度。上面学习了向量有大小和方向，但没有位置。所以使用“点”和“向量”的目的完全不同。“点point”描述位置，而“向量vector”描述位移。





向量能够用来描述位移，当然也包括相对位置。点用来描述位置。任何描述位置的方法都是相对的，那么我们必须承认点也是相对的。它们和确定其坐标的原点相关。这导出了点和向量的关系。

对于任意x，y，下图展示了点（x，y）是怎样和向量[x，y]相关的。





从原点开始，按向量[x, y]所代表的位移移动，总是会到达点(x, y)所代表的位置。也可以说，向量[x, y]描述了原点到点(x, y)的位移量。

这看起来很明显，重要的是要理解点和向量在概念上完全不同，而在数学上却是等价的。点和向量的这种令人迷惑的关系对初学者来说可能是个障碍，但现在对你来说应该已经不是问题了。思考位置时，想象一个点，思考位移时，想象一个向量和一个箭头。

许多情况下，位移是从原点开始的，点和向量间的区别很清楚。但我们还要经常对付一些和原点不相关的量，这种情况下，认识到这是一些箭头而不是点很重要。时刻记住，在任意一点都能用从原点开始的向量来表达。

在Unity中，很多量都是用Vector3这一类型表示的，但是要区分你是当作点（比如位置position），还是当作向量（比如方向）在使用。

向量运算
符号约定
在书本等印刷体中，不同类型的量一般使用下面的符号约定：

标量，用斜体的小写罗马或希腊字母表示，如a，b，x，y，z，θ，λ

向量，用小写黑粗体字母表示，如a，b，u，v，q，r

矩阵，用大写黑粗体字母表示，如A，B，M，R

还一种常用的手写约定是，用符号上面加一个箭头来表示向量。

向量手写表示方法

向量手写表示方法

零向量
零向量非常特殊，因为它是唯一大小为零的向量。零向量也是唯一一个没有方向的向量。

虽然在图中表示零向量用的是一个点，但是认为零向量就是一个点并不准确，因为零向量没有定义某个位置。应该认为零向量表示的是“没有位移”，就像标量零表示的是“没有数量”一样。

在Unity中零向量通常用于Vector类型变量的初始化或者重置。

负向量
要得到任意维向量的负向量，只需要简单地将向量地每个分量都变负即可。

向量变负，将得到一个和原向量大小相等，方向相反的向量。

在Unity中可以直接在Vector类型的变量前加负号变成负向量。负向量通常用于求出一个方向的相反方向。比如transform中有forward表示物体的z轴朝向，但是没有类似back的属性，这时候可以用-forward获得。

向量大小（长度或模）
前面讨论过，向量有大小和方向。你可能已经注意到了，大小和方向都没有在向量中明确地表示出来。

如2D向量[3，4]的大小既不是3，也不是4，而是5。因为向量的大小没有明确表示，所以需要计算。向量大小也常被称作向量的长度或模。

运算法则
在线性代数中，向量的大小用向量两边加双竖线表示，这和标量的“绝对值”在标量两边加单竖线表示类似。这种记法和n维向量大小的计算公式如下：

||v|| = \sqrt { v_1^2+v_2^2+ ··· + v_{n-1}^2+v_n^2 }
∣∣v∣∣= 
v 
1
2
 +v 
2
2
 +⋅⋅⋅+v 
n−1
2
 +v 
n
2
 
 

在Unity中如果仅仅比较两个向量的大小，可以使用sqrMagnitude，这个属性不会计算最后的开平方，可以大大提高计算速度。
